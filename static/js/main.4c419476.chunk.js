(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{157:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),l=a(43),n=a.n(l),s=(a(58),a(26)),i=a.n(s),o=a(44),m=a(45),u=a(46),p=a(52),d=a(51),f=(a(60),a(16),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("h1",{className:"title"}," Weather Forecast")))}),h=function(e){return c.a.createElement("form",{onSubmit:e.loadSearch,className:"container",style:{border:"1px solid #ccc"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col",style:{padding:"0"}},c.a.createElement("input",{type:"text",name:"city",className:"form-control",style:{border:"0px solid",height:"100%",textAlign:"left"},placeholder:"Enter city..."})),c.a.createElement("button",{className:"btn btn-outline-light btn-lg",style:{color:"gray"}},c.a.createElement("i",{className:"fas fa-search"}))))},E=a(47),b=a.n(E),y=a(48),_=a.n(y),v=function(e){var t=Math.round((new Date).getTime()/1e3);return c.a.createElement("div",{className:"weather"},c.a.createElement("br",null),c.a.createElement("div",{className:"container",style:{border:"1px solid transparent",backgroundColor:"#7dcc93"}},c.a.createElement("br",null),c.a.createElement("div",{className:"container today"},c.a.createElement("p",null,t>=e.sunset_ts&&c.a.createElement("img",{src:b.a,className:"image",alt:"moon"})," "),c.a.createElement("p",null,t<e.sunset_ts&&c.a.createElement("img",{src:_.a,className:"image",alt:"sun"})),c.a.createElement("p",null,e.forecast_temp[0]&&c.a.createElement("p",{className:"today-temp"},e.forecast_temp[0],"\xb0")),c.a.createElement("p",null,e.country&&e.city&&c.a.createElement("p",{className:"location"},e.city,", ",e.country)),c.a.createElement("p",null,e.desc&&c.a.createElement("p",null,e.desc))),c.a.createElement("div",{className:"container main"},c.a.createElement("br",null),c.a.createElement("p",null,e.city&&c.a.createElement("p",{className:"label1"},"Additional Info")),c.a.createElement("p",null,e.forecast_humi[0]&&c.a.createElement("p",{className:"label"},"Humidity: ",c.a.createElement("b",null,e.forecast_humi[0])," %")),c.a.createElement("p",null,e.forecast_preci[0]>=0&&c.a.createElement("p",{className:"label"},"Precipitation: ",c.a.createElement("b",null,e.forecast_preci[0])," mm")))),c.a.createElement("br",null),c.a.createElement("div",{className:"container",style:{border:"1px solid transparent",backgroundColor:"#f76160"}},c.a.createElement("br",null),c.a.createElement("div",null,e.forecast_temp[1]&&c.a.createElement("p",null,c.a.createElement("b",{className:"label1"},"Next 3 Days"))),c.a.createElement("div",{className:" container main"},c.a.createElement("br",null),c.a.createElement("p",null,e.forecast_date[1]&&c.a.createElement("p",{className:"label1"},e.forecast_date[1])),c.a.createElement("p",null,e.forecast_temp[1]&&c.a.createElement("p",{className:"label"},c.a.createElement("b",null,e.forecast_temp[1]),"\xb0")),c.a.createElement("p",null,e.forecast_humi[1]&&c.a.createElement("p",{className:"label"},"Humidity: ",c.a.createElement("b",null,e.forecast_humi[1])," %")),c.a.createElement("p",null,e.forecast_preci[1]>=0&&c.a.createElement("p",{className:"label"},"Precipitation: ",c.a.createElement("b",null,e.forecast_preci[1])," mm"))),c.a.createElement("div",{className:" container main"},c.a.createElement("br",null),c.a.createElement("p",null,e.forecast_date[2]&&c.a.createElement("p",{className:"label1"},e.forecast_date[2])),c.a.createElement("p",null,e.forecast_temp[2]&&c.a.createElement("p",{className:"label"},c.a.createElement("b",null,e.forecast_temp[2]),"\xb0")),c.a.createElement("p",null,e.forecast_humi[2]&&c.a.createElement("p",{className:"label"},"Humidity: ",c.a.createElement("b",null,e.forecast_humi[2])," %")),c.a.createElement("p",null,e.forecast_preci[2]>=0&&c.a.createElement("p",{className:"label"},"Precipitation: ",c.a.createElement("b",null,e.forecast_preci[2])," mm"))),c.a.createElement("div",{className:" container main"},c.a.createElement("br",null),c.a.createElement("p",null,e.forecast_date[3]&&c.a.createElement("p",{className:"label1"},e.forecast_date[3])),c.a.createElement("p",null,e.forecast_temp[3]&&c.a.createElement("p",{className:"label"},c.a.createElement("b",null,e.forecast_temp[3]),"\xb0")),c.a.createElement("p",null,e.forecast_humi[3]&&c.a.createElement("p",{className:"label"},"Humidity: ",c.a.createElement("b",null,e.forecast_humi[3])," %")),c.a.createElement("p",null,e.forecast_preci[3]>=0&&c.a.createElement("p",{className:"label"},"Precipitation: ",c.a.createElement("b",null,e.forecast_preci[3])," mm")))),c.a.createElement("br",null))},N=a(15),g=function(e){return c.a.createElement("div",{className:"chart"},c.a.createElement("br",null),c.a.createElement("div",{className:"chart-temp container",style:{backgroundColor:"#a4c5c6"}},c.a.createElement(N.a,{data:e.chartDataTemp,options:{title:{display:!0,text:"Temperature variation (Past 7 Days)",fontSize:20,fontColor:"#fff"},legend:{display:!0,labels:{fontColor:"#fff"}}}})),c.a.createElement("br",null),c.a.createElement("div",{className:"chart-humi container",style:{backgroundColor:"#f8c687"}},c.a.createElement(N.a,{data:e.chartDataHumi,options:{title:{display:!0,text:"Humidity variation (Past 7 Days)",fontSize:20,fontColor:"#fff"},legend:{display:!0,labels:{fontColor:"#fff"}}}})),c.a.createElement("br",null),c.a.createElement("div",{className:"chart-preci container",style:{backgroundColor:"#ffbaba"}},c.a.createElement(N.a,{data:e.chartDataPreci,options:{title:{display:!0,text:"Precipitation variation (Past 7 Days)",fontSize:20,fontColor:"#fff"},legend:{display:!0,labels:{fontColor:"#fff"}}}})),c.a.createElement("br",null))},D=a(159),w="bff03f6366c448f6a45ab086a4bb1dcb",x="https://api.weatherbit.io/v2.0/",C="60a650e45804450290f113707200608",k="https://api.worldweatheronline.com/premium/v1/",P=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={temp:void 0,city:void 0,country:void 0,humi:void 0,preci:void 0,desc:void 0,loading:!1,sunset_ts:void 0,forecast_date:[],forecast_temp:[],forecast_humi:[],forecast_preci:[],chartDataTemp:{},chartDataHumi:{},chartDataPreci:{}},e.search=function(){var t=Object(o.a)(i.a.mark((function t(a){var r,c,l,n,s,o,m,u,p,d,f,h,E,b,y,_,v,N,g,D,P;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.elements.city.value,e.setState({loading:!0,city:void 0}),a.preventDefault(),!r){t.next=44;break}return t.next=6,fetch("".concat(x,"forecast/daily?city=").concat(r,"&days=4&key=").concat(w));case 6:return c=t.sent,t.next=9,c.json();case 9:for(l=t.sent,console.log(l),n=[],s=[],o=[],m=[],u=0;u<=3;)n.push(l.data[u].valid_date),s.push(l.data[u].temp),o.push(l.data[u].rh),m.push(l.data[u].precip),u++;p=7,d=[],f=[],h=[],E=[];case 22:if(!(p>=1)){t.next=43;break}return b=new Date,y=new Date(b.getTime()-24*p*60*60*1e3),_=y.getDate(),v=y.getMonth()+1,N=y.getFullYear(),g=N+"-"+v+"-"+_,E.push(g),t.next=32,fetch("".concat(k,"past-weather.ashx?q=").concat(r,"&date=").concat(g,"&format=json&key=").concat(C));case 32:return D=t.sent,t.next=35,D.json();case 35:P=t.sent,console.log(P),d.push(P.data.weather[0].hourly[0].tempC),f.push(P.data.weather[0].hourly[0].humidity),h.push(P.data.weather[0].hourly[0].precipMM),p--,t.next=22;break;case 43:e.setState({city:l.city_name,country:l.country_code,sunset_ts:l.data[0].sunset_ts,desc:l.data[0].weather.description,forecast_date:n,forecast_temp:s,forecast_humi:o,forecast_preci:m,loading:!1,chartDataTemp:{labels:E,datasets:[{label:"Temperature (\xba C)",data:d,borderColor:"#ff0000"}]},chartDataHumi:{labels:E,datasets:[{label:"Humidity (%)",data:f,borderColor:"#0000ff"}]},chartDataPreci:{labels:E,datasets:[{label:"Precipitation (mm)",data:h,borderColor:"#008000"}]}});case 44:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(f,null),c.a.createElement(h,{loadSearch:this.search}),this.state.loading&&c.a.createElement(D.a,{animation:"border",variant:"secondary",className:"spinner"}),this.state.city&&c.a.createElement(v,{desc:this.state.desc,temp:this.state.temp,city:this.state.city,sunset_ts:this.state.sunset_ts,country:this.state.country,humi:this.state.humi,preci:this.state.preci,forecast_date:this.state.forecast_date,forecast_temp:this.state.forecast_temp,forecast_humi:this.state.forecast_humi,forecast_preci:this.state.forecast_preci,chartDataTemp:this.state.chartDataTemp,chartDataHumi:this.state.chartDataHumi,chartDataPreci:this.state.chartDataPreci}),this.state.city&&c.a.createElement(g,{city:this.state.city,chartDataTemp:this.state.chartDataTemp,chartDataHumi:this.state.chartDataHumi,chartDataPreci:this.state.chartDataPreci}))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(156);n.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e,t,a){},47:function(e,t,a){e.exports=a.p+"static/media/moon.84545c28.png"},48:function(e,t,a){e.exports=a.p+"static/media/sun.d8b3b4bb.png"},53:function(e,t,a){e.exports=a(157)},58:function(e,t,a){},60:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.4c419476.chunk.js.map